
<div  class="section_our_solution"*ngIf="type === 'En Attends' && user.is_superuser">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="our_solution_category">
        <div class="solution_cards_box" *ngFor="let course of filteredCourses">
          <div class="solution_card">
            <span class="close" (click)="delete_course_Admin(course.id,course.tutor,course.title)">&times;</span>
            <span class="accept" (click)="verifyCourse(course.id,course.tutor,course.title)" >&#10003;</span>
            <div class="hover_color_bubble"></div>
            <div class="so_top_icon">
              <img src="{{ course.image }}" alt="">
            </div>
            <div class="solu_title">
              <h3>{{course.title}}</h3>
            </div>
            <div class="solu_description"  style="margin-top: 30px;">
              <div class="user-profile">
                <img class="profile-image" src="{{ getUserInfoById(course.tutor)?.image }}" alt="User Image">
                <p class="username">Par {{getUserInfoById(course.tutor)?.username}}</p>
            </div>
              <button type="button" class="read_more_btn"class="read_more_btn" style="position: absolute; bottom: 10px; right: 10px; text-align: center; font-weight: bold;" [routerLink]="['/dashboard/lesoon']" [queryParams]="{ CourseId: course.id }">découvrir</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="section_our_solution"*ngIf="type === 'Verifier'">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="our_solution_category">
        <div class="solution_cards_box" *ngFor="let course of filteredCourses">
          <div  class="solution_card">
            <span class="close" (click)="delete_course_Admin(course.id,course.tutor,course.title)">&times;</span>
            <div class="hover_color_bubble"></div>
            <div class="so_top_icon">
              <img src="{{ course.image }}" alt="">
            </div>
            <div class="solu_title">
              <h3>{{course.title}}</h3>
            </div>
            <div class="solu_description"  style="margin-top: 30px;">
              <div class="user-profile">
                <img class="profile-image" src="{{ getUserInfoById(course.tutor)?.image }}" alt="User Image">
                <p class="username">Par {{getUserInfoById(course.tutor)?.username}}</p>
            </div>
              <button type="button" class="read_more_btn" class="read_more_btn" style="position: absolute; bottom: 10px; right: 10px; text-align: center; font-weight: bold;" [routerLink]="['/dashboard/lesoon']" [queryParams]="{ CourseId: course.id }">découvrir</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="section_our_solution"*ngIf="type === 'tutor'">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="our_solution_category">
        <div  *ngFor="let course of filteredCourses" >
        <div class="solution_cards_box" *ngIf="course.tutor===user.user_id">
          <div   class="solution_card" >
            

            <span class="close" (click)="delete_course_Tutor(course.id,course.tutor,course.title)">&times;</span>
            <span class="close" (click)="openMaterialModalupdate(course.id,course)" style="font-size: 13px;margin-right: 5px;margin-top: 10px;"><i class="fas fa-edit"></i></span>
            <div class="hover_color_bubble"></div>
            <div class="so_top_icon">
              <img src="{{ course.image }}" alt="">
            </div>
            <div class="solu_title">
              <h3>{{course.title}}</h3>
            </div>
            <div class="solu_description">
              <p>{{course.description}}</p>
              
              <button type="button" class="read_more_btn" class="read_more_btn" style="position: absolute; bottom: 10px; right: 10px; text-align: center; font-weight: bold;" [routerLink]="['/dashboard/lesoon']" [queryParams]="{ CourseId: course.id }">découvrir</button>
            </div>
          </div>
        </div>
        
        </div>
      </div>
    </div>
  </div>
</div>
<div   *ngIf="user.is_staff===true && user.is_superuser===false && type === 'En Attends'" class="section_our_solution">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="our_solution_category">
        <div class="solution_cards_box" *ngFor="let course of filteredCourses">
          <div class="solution_card">
            <span class="close" (click)="delete_course_Tutor(course.id,course.tutor,course.title)">&times;</span>
            <span class="close" (click)="openMaterialModalupdate(course.id,course)" style="font-size: 13px;margin-right: 5px;margin-top: 10px;"><i class="fas fa-edit"></i></span>

             <div class="hover_color_bubble"></div>
            <div class="so_top_icon">
              <img src="{{ course.image }}" alt="">
            </div>
            <div class="solu_title">
              <h3>{{course.title}}</h3>
            </div>
            <div class="solu_description"  style="margin-top: 30px;">
              <div class="user-profile">
                <img class="profile-image" src="{{ getUserInfoById(course.tutor)?.image }}" alt="User Image">
                <p class="username">Par {{getUserInfoById(course.tutor)?.username}}</p>
            </div>
              <button type="button" class="read_more_btn"class="read_more_btn" style="position: absolute; bottom: 10px; right: 10px; text-align: center; font-weight: bold;" [routerLink]="['/dashboard/lesoon']" [queryParams]="{ CourseId: course.id }">découvrir</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="section_our_solution"*ngIf="type === 'all'">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="our_solution_category">
        <div class="solution_cards_box" *ngFor="let course of filteredCourses">
          <div [routerLink]="['/dashboard/lesoon']" [queryParams]="{ CourseId: course.id, title: course.title }"   class="solution_card">
            <div class="hover_color_bubble"></div>
            <div class="so_top_icon">
              <img src="{{ course.image }}" alt="">
            </div>
            <div class="solu_title">
              <h3>{{course.title}}</h3>
            </div>
            <div class="solu_description"  style="margin-top: 30px;">
              <div class="user-profile">
                <img class="profile-image" src="{{ getUserInfoById(course.tutor)?.image }}" alt="User Image">
                <p class="username">Par {{getUserInfoById(course.tutor)?.username}}</p>
            </div>        
              <button *ngIf="!isUserAlreadyEnrolled(course.id) && !isUserAlreadyEnrolledW(course.id)" class="read_more_btn" style="position: absolute; bottom: 10px; right: 10px; text-align: center; font-weight: bold;" type="button" 
                      class="read_more_btn" 
                      (click)="EnrollInCourse(course.id,course.tutor,course.title)">
                inscrire
              </button> 

            <button *ngIf="isUserAlreadyEnrolled(course.id)" type="button" class="read_more_btn"class="read_more_btn" style="position: absolute; bottom: 10px; right: 10px; text-align: center; font-weight: bold;"  [routerLink]="['/submissions']" [queryParams]="{ CourseId: course.id, title: course.title }">découvrir</button>
              <p *ngIf="isUserAlreadyEnrolledW(course.id)" style="position: absolute; bottom: 10px; left: 10px; width: calc(100% - 0px); text-align: center; font-weight: bold;">En attente d'acceptation</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="section_our_solution"*ngIf="type === 'waiting'">
  <div class="row">
    <div  class="col-lg-12 col-md-12 col-sm-12">
      <div class="our_solution_category">
        <div class="solution_cards_box" *ngFor="let course of filteredCourses ">
          <div  class="solution_card">
            <div class="hover_color_bubble"></div>
            <div class="so_top_icon">
              <img src="{{ course.image }}" alt="">
            </div>
            <div class="solu_title">
              <h3>{{course.title}}</h3>
            </div>
            <div class="solu_description">
              <p>{{course.description}}</p>
              <p *ngIf="isUserAlreadyEnrolledW(course.id)" style="position: absolute; bottom: 10px; left: 10px; width: calc(100% - 0px); text-align: center; font-weight: bold;">En attente d'acceptation</p>
  
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="section_our_solution"*ngIf="type === 'inscrit'" >
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="our_solution_category">
        <div class="solution_cards_box" *ngFor="let course of filteredCourses">
          <div [routerLink]="['/dashboard/lesoon']" [queryParams]="{ CourseId: course.id, title: course.title }"  class="solution_card">
            <div class="hover_color_bubble"></div>
            <div class="so_top_icon">
              <img src="{{ course.image }}" alt="">
            </div>
            <div class="solu_title">
              <h3>{{course.title}}</h3>
            </div>
            <div class="solu_description"  style="margin-top: 30px;">
              <div class="user-profile">
                <img class="profile-image" src="{{ getUserInfoById(course.tutor)?.image }}" alt="User Image">
                <p class="username">Par {{getUserInfoById(course.tutor)?.username}}</p>
            </div>
              <div class="progress" style="margin-top: 30px;font-weight: bold;">
                <div class="progress-bar"
                     role="progressbar"
                     [style.width.%]="course.pourcentage"
                     aria-valuemin="0"
                     aria-valuemax="100">
                  {{ course.pourcentage }}%
                </div>
              </div>
              <button (click)="certif(course.id)" type="button" class="read_more_btn" class="read_more_btn" style="position: absolute; bottom: 10px; right: 10px; text-align: center; font-weight: bold;"    [routerLink]="['/submissions']" [queryParams]="{ CourseId: course.id, title: course.title }">découvrir</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="section_our_solution" *ngIf="type === 'accepter'">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="our_solution_category">
        <div class="solution_cards_box" *ngFor="let enrollment of filteredCourses">
          <div  class="solution_card " style="width:400px;min-height:150px">
            <div class="hover_color_bubble"></div>
            <div class="solu_title" style="margin-top: 0px;
            margin-bottom: 0px;">
              <h3 style="display: inline-block ;margin-top: 5px;
              margin-bottom: 0px;">Nom d'utilisateur :  </h3><p  style="display: inline-block; margin-left: 5px;">{{ getUsernameByid(enrollment.student) }}</p><br>
              <h3 style="display: inline-block;margin-top: 5px;
              margin-bottom: 0px;">Titre de cour : </h3> <p  style="display: inline-block; margin-left: 5px;"> {{ getcoursetitleByid(enrollment.course) }}</p>
            </div>
              <div class="solu_description">
              <button type="button" class="read_more_btn" style="position: absolute; bottom: 10px; right: 10px; text-align: center; font-weight: bold;" (click)="verifEnrollment(enrollment.id,true,enrollment.student,enrollment.course)"style="margin-right:20px;margin-left:150px">accepter</button>
              <button  type="button" class="read_more_btn" style="position: absolute; bottom: 10px; right: 10px; text-align: center; font-weight: bold;"  (click)="verifEnrollment(enrollment.id,false,enrollment.student,enrollment.course)">refuser</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div id="materialModallesson" class="modal">
  <div class="modal-content">
    <span class="close" (click)="closeassModal()">&times;</span>
<div class="form-group">
  <form #materialForm="ngForm" (ngSubmit)="Update_course(SelectedCourseID)">
    <h1 style="margin-left:5% ;">Mettre a jour un cours</h1>
    <div class="form-group">
      <label class="form-label" for="title">Titre</label>
      <input type="text" id="title" class="form-control form-control-lg" name="title" [(ngModel)]="myform.value['title']" required #Input="ngModel">
     
  </div>
  <div class="form-group">
      <label class="form-label" for="description">Description</label>
      <textarea id="description" class="form-control form-control-lg" name="description"  [(ngModel)]="myform.value['description']" required maxlength="140" #Input="ngModel"></textarea>
  </div>
  <div class="form-group">
      <label class="form-label" for="enrollment_capacity">Capacité d’inscription</label>
      <input type="number" id="enrollment_capacity" class="form-control form-control-lg" name="enrollment_capacity"  [(ngModel)]="myform.value['enrollment_capacity']" required #Input="ngModel">
  </div>
  <div class="form-group">
      <label class="form-label" for="formFile">Image</label>
      <input type="file" id="formFile" (change)="onFileChange($event)" class="form-control" />
  </div>
  <div class="form-group">
    <button class="button" type="submit">Mettre a jour</button>
  </div>
  
 
</form>
</div>
</div>
</div>








































