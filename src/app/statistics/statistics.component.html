<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">
    
</head>

<body>

    <div class="container">
        <!-- Sidebar Section -->
     
        <!-- End of Sidebar Section -->

        <!-- Main Content -->
        <main>
            <h1>statistiques</h1>
            <p> CONSEIL : survolez pour plus de détails</p>
            <!-- Analyses -->
            <div class="analyse">
                <div class="sales ">
                    <div class="status">
                        <div class="info">
                            <h3>Inscriptions</h3>
                            <h1 class="cen"></h1>
                        </div>
                        <div class="progresss">
                            <svg>
                                <circle cx="38" cy="38" r="36"></circle>
                            </svg>
                            <div class="percentage">
                                <p>{{course_counts.total_enrollements}} </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="hover-trigger" (mouseover)="openDialog2()">

               
                  <div class="visits">
                      <div class="status">
                          <div class="info">
                              <h3>Cours</h3>
                              <h1 class="cen" >     </h1>
                          </div>
                          <div class="progresss">
                              <svg>
                                  <circle cx="38" cy="38" r="36"></circle>
                              </svg>
                              <div class="percentage">
                                  <p>  {{course_counts.total_courses}}</p>
                              </div>
                          </div>
                      </div>
                  </div> </div>   


                <div  class="hover-trigger" (mouseover)="openDialog()">
                <div class="searches">
                    <div class="status">
                        <div class="info">
                            <h3>Utilisateurs</h3>
                            <h1  class="cen"> </h1>
                        </div>
                        <div class="progresss">
                            <svg>
                                <circle cx="38" cy="38" r="36"></circle>
                            </svg>
                            <div class="percentage">
                                <p>{{userCounts.total_users}} </p>
                            </div>
                        </div>
                    </div>
                </div></div>
               
            </div>
            <!-- End of Analyses -->

            <!-- New Users Section -->
            <div class="new-users">
                <h2>Nouveaux utilisateurss</h2>
                <div class="user-list">
                    <div class="user" *ngFor="let user of new_users">
                      
                      <img *ngIf="user.image!=null" [src]="user.image" >
                      <img *ngIf="user.image==null"  src="assets/def.png">
                        <h2>{{user.username}}</h2>


                     


                        <div *ngIf="user.is_active==true && user.is_staff==false && user.is_superuser==false"><p>Apprenant</p></div>
                        <div *ngIf="user.is_active==true && user.is_staff==true && user.is_superuser==false"><p>Formateur</p></div>
                        <div *ngIf="user.is_superuser==true"><p>Admin</p></div>
            

                    </div>

                   
                </div>
            </div>
            <!-- End of New Users Section -->

            <!-- Recent Orders Table -->
            <div style="margin-bottom: 20px;" class="recent-orders">
                <h2>Cours récents</h2>
                <table>
                    <thead>
                        <tr>
                            <th>ID de cours</th>
                            <th>Nom du cours</th>
                            <th>Formateur</th>
                            <th>Statut</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>

                      <tr  *ngFor="let course of new_courses">


                        <td>{{course.id}}</td>
                        <td>{{course.title}}</td>
                        <td>  {{course.tutor}}</td>
                        <td  *ngIf="course.verified==true"  >  <div class="success"> Vérifié</div></td>
                        <td  *ngIf="course.verified==false">     <div class="danger"> Non vérifié </div> </td>

                     
                      </tr>



                    </tbody>
                </table>
             
            </div>
            <!-- End of Recent Orders -->

        </main>
        <!-- End of Main Content -->

        <!-- Right Section -->
        <div class="right-section">
            <div class="nav">
                <button id="menu-btn">
                    <span class="material-icons-sharp">
                        menu
                    </span>
                </button>
           
                

              

            </div>
            <!-- End of Nav -->


            <div class="reminders">
                <div class="header">
                    <h2>Rappels</h2>
                    <span class="material-icons-sharp">
                        notifications_none
                    </span>
                </div>

                <div class="notification"  *ngFor="let reminder of reminders">
                    <div class="icon">
                        <span class="material-icons-sharp">
                            edit
                        </span>
                    </div>
                    <div class="content">
                        <div class="info">
                            <h3>{{reminder.title}}</h3>
                            <small class="text_muted">
                                {{reminder.timestamp | date: 'medium'}}
                                                        </small>
                        </div>
                        <span class="fa fa-trash" (click)="deleteReminder(reminder.id)" >
                           
                        </span>
                    </div>
                </div>


                <div  (click)="openDialog3()" class="notification add-reminder">
                    <div>
                        <span class="material-icons-sharp">
                            add
                        </span>
                        <h3>Ajouter un Rappel</h3>
                    </div>
                </div>

            </div>

        </div>


    </div>




  

     
    




</body>

